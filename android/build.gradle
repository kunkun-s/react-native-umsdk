def safeExtGet(prop, fallback) {
    rootProject.ext.has(prop) ? rootProject.ext.get(prop) : fallback
}

buildscript {
    repositories {
        mavenCentral()
        jcenter()
        maven { url  'https://repo1.maven.org/maven2/'}

    }

    dependencies {
        classpath 'com.android.tools.build:gradle:1.3.1'
    }
    repositories {
        maven { url  'https://repo1.maven.org/maven2/'}
    }
}

allprojects {
    repositories {
        mavenCentral()
        jcenter()
        maven { url  'https://repo1.maven.org/maven2/'}

    }
}

apply plugin: 'com.android.library'

android {
    compileSdkVersion safeExtGet('compileSdkVersion', 29)
    buildToolsVersion safeExtGet('buildToolsVersion', '29.0.3')

    defaultConfig {
        minSdkVersion safeExtGet('minSdkVersion', 17)
        targetSdkVersion safeExtGet('targetSdkVersion', 29)
        versionCode 1
        versionName "${version}"
    }
    lintOptions {
        abortOnError false
    }
}

repositories {

    mavenCentral()
}

dependencies {

    api fileTree(dir: 'libs', include: ['**/*.aar', '**/*.jar'])
//    api 'com.tencent.tauth:qqopensdk:3.53.0'//QQ官方依赖库，必选 jcenter()
    implementation 'com.squareup.okhttp3:okhttp:3.12.12'//QQ SDK在3.53.0版本及以上时需要集成okhttp官方依赖库，必选
    api 'com.tencent.mm.opensdk:wechat-sdk-android-without-mta:6.8.0'//微信官方依赖
    api 'com.umeng.umsdk:common:9.8.0'  // 必选
    api 'com.umeng.umsdk:asms:1.8.6'    // 必选
    api 'com.umeng.umsdk:share-core:7.3.3' //友盟分享
    api 'com.umeng.umsdk:share-wx:7.3.3' //友盟分享微信
    api 'com.umeng.umsdk:share-qq:7.3.3' // qq
    //友盟Push依赖
    api 'com.umeng.umsdk:push:6.7.1'
    // 解决utdid 与alipay冲突
    // api('com.umeng.umsdk:push:6.4.5') {
    //     exclude group: 'com.umeng.umsdk', module: 'utdid'
    // }

    implementation 'com.umeng.umsdk:apm:1.5.2' // 错误分析升级为独立SDK，看crash数据请一定集成，可选
//    implementation  'com.umeng.umsdk:abtest:1.0.0'//使用U-App中ABTest能力，可选

    implementation 'com.facebook.react:react-native:+'
}
  